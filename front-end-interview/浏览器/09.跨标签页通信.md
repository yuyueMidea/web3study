**浏览器跨标签页通信方案详解**

浏览器跨标签页通信（Cross-Tab Communication）是指在同一个浏览器 不同标签页或窗口之间共享数据和同步状态的技术；以下是8种主流的实现方案以及详细说明。

1、localStorage事件监听
- 原理：利用localStorage的 Storage事件，当同一个域下的耨个标签页修改localStorage时，其他标签页会触发该事件；
- 代码实现：
```
// 发送方标签页
localStorage.setItem('message', JSON.stringify({ text: 'Hello!' }));

// 接收方标签页
window.addEventListener('storage', (e) => {
  if (e.key === 'message') {
    const data = JSON.parse(e.newValue);
    console.log('Received:', data.text); // "Hello!"
  }
});
```
- 特点：
   - 同源限制：仅限同一域名下的页面；
   - 不触发当前页：storage不会在当前修改数据的标签页触发；
   - 容量限制：约5MB（不同浏览器不同）。

2、BroadcastChannel API；
- 原理：HTML提供的专用跨页通信接口，允许同源页面通过命名频道广播消息；
- 代码实现：
```
// 发送方和接收方
const channel = new BroadcastChannel('my_channel');

// 发送消息
channel.postMessage({ type: 'alert', content: 'New update!' });

// 接收消息
channel.onmessage = (e) => {
  console.log(e.data); // { type: 'alert', content: 'New update!' }
};

// 关闭频道
channel.close();
```
