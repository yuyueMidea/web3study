**浏览器的渲染流程**

浏览器的渲染流程是将HTML、CSS和JavaScript代码转换为用户可视界面的过程，涉及多个阶段的协作，以下是详细流程。

**1、解析阶段（Parsing）**

（1）构建dom树
- 输入：`HTML`文档
- 过程:浏览器逐行解析`HTML`文本，通过**词法分析**将标签转换为`Tokens`；**语法分析**将Tokens构建成嵌套的dom节点，形成dom树；
- 注意：解析是增量进行的（边下载边解析），遇到`<script>`标签会阻塞dom构建（除非标记为async或defer）；

(2)构建CSSOM树
- 输入：CSS文件或内联样式；
- 过程：类似dom树，浏览器解析CSS生成CSSOM树（CSS Object Model），CSS规则是层叠的，因此需要递归计算每个节点的最终样式；
- 特点：CSSOM构建是阻塞渲染的，浏览器会等待所有CSS解析完成后才会进入下一阶段；

**2、渲染树构建（Render Tree）**
- 输入：DOM树 + CSSOM树
- 过程：合并DOM和CSSOM，生成渲染树（Render Tree），仅包含可见节点（如排除display:none的元素）；计算每个节点的几何信息（如宽高、位置）；
- 注意：渲染树不包含`<head>`、隐藏元素等不可见节点；

