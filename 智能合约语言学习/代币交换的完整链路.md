下面把 代币交换的完整链路 梳理一遍，并把关键的方法swap，从‘入参到落链’每一步拆开说明。（包含状态流转、何时授权、三种交换分支、常见坑位和调换示例）

总览：角色 & 状态
- 合约实例：router = useRouterContract(true)（DEX 路由）；useERC20Contract(addr, true)（需要写操作的 ERC20 实例）。
- 地址集：addresses.ROUTER 和 addresses.WETH 来自 useContractAddresses()。
